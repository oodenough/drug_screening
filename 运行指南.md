# ğŸš€ è¯ç‰©ç­›é€‰ç³»ç»Ÿ - å®Œæ•´è¿è¡ŒæŒ‡å—

## ğŸ“‘ ç›®å½•
1. [ç¯å¢ƒå®‰è£…](#ç¯å¢ƒå®‰è£…)
2. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
3. [å®Œæ•´è®­ç»ƒæµç¨‹](#å®Œæ•´è®­ç»ƒæµç¨‹)
4. [Webç•Œé¢ä½¿ç”¨](#webç•Œé¢ä½¿ç”¨)
5. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ”§ ç¯å¢ƒå®‰è£…

### æ–¹å¼ä¸€: ä½¿ç”¨Condaï¼ˆæ¨èï¼‰

#### æ­¥éª¤1: å®‰è£…Anaconda
ä¸‹è½½å¹¶å®‰è£…: https://www.anaconda.com/download

#### æ­¥éª¤2: åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
```bash
# åˆ›å»ºPython 3.9ç¯å¢ƒ
conda create -n drug_screen python=3.9 -y

# æ¿€æ´»ç¯å¢ƒ
conda activate drug_screen
```

#### æ­¥éª¤3: å®‰è£…RDKitï¼ˆå¿…é¡»ç”¨condaï¼‰
```bash
conda install -c conda-forge rdkit -y
```

#### æ­¥éª¤4: å®‰è£…PyTorchï¼ˆGPUåŠ é€Ÿç‰ˆæœ¬ï¼‰
```bash
# GPUç‰ˆæœ¬ï¼ˆæ¨è - CUDA 11.8ï¼‰
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118

# CPUç‰ˆæœ¬ï¼ˆå¦‚æœæ²¡æœ‰NVIDIAæ˜¾å¡ï¼‰
pip install torch torchvision torchaudio
```

**éªŒè¯GPUæ˜¯å¦å¯ç”¨**:
```python
import torch
print(f"CUDAå¯ç”¨: {torch.cuda.is_available()}")
if torch.cuda.is_available():
    print(f"GPUå‹å·: {torch.cuda.get_device_name(0)}")
```

#### æ­¥éª¤5: å®‰è£…å…¶ä»–ä¾èµ–
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd d:\OneDrive\æ¡Œé¢\cursor\drug

# å®‰è£…ä¾èµ–
pip install deepchem pandas scikit-learn matplotlib seaborn streamlit tqdm pyyaml
```

### æ–¹å¼äºŒ: ä½¿ç”¨requirements.txt

```bash
# æ¿€æ´»ç¯å¢ƒå
pip install -r requirements.txt
```

**æ³¨æ„**: RDKitå¿…é¡»é€šè¿‡condaå®‰è£…ï¼Œpipç‰ˆæœ¬å¯èƒ½æœ‰é—®é¢˜ã€‚

### éªŒè¯å®‰è£…

åˆ›å»ºæµ‹è¯•è„šæœ¬ `test_env.py`:
```python
import sys
print("Pythonç‰ˆæœ¬:", sys.version)

try:
    import torch
    print("âœ“ PyTorch:", torch.__version__)
    print("  CUDAå¯ç”¨:", torch.cuda.is_available())
except:
    print("âœ— PyTorchæœªå®‰è£…")

try:
    from rdkit import Chem
    print("âœ“ RDKitå·²å®‰è£…")
    mol = Chem.MolFromSmiles('CCO')
    print("  SMILESè§£ææµ‹è¯•é€šè¿‡")
except:
    print("âœ— RDKitæœªå®‰è£…æˆ–æœ‰é—®é¢˜")

try:
    import deepchem as dc
    print("âœ“ DeepChem:", dc.__version__)
except:
    print("âœ— DeepChemæœªå®‰è£…")

try:
    import pandas as pd
    import numpy as np
    import streamlit as st
    print("âœ“ å…¶ä»–ä¾èµ–å·²å®‰è£…")
except:
    print("âœ— éƒ¨åˆ†ä¾èµ–ç¼ºå¤±")
```

è¿è¡Œæµ‹è¯•:
```bash
python test_env.py
```

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### ç¤ºä¾‹1: æµ‹è¯•æ•°æ®åŠ è½½

åˆ›å»º `demo_01_data.py`:
```python
"""æ¼”ç¤ºæ•°æ®åŠ è½½"""
import sys
sys.path.append('.')

from data.data_loader import DrugDataLoader

# åˆ›å»ºåŠ è½½å™¨
loader = DrugDataLoader(data_dir='./data/raw')

# åŠ è½½MoleculeNetçš„BBBPæ•°æ®é›†
print("æ­£åœ¨ä¸‹è½½BBBPæ•°æ®é›†...")
train, valid, test, tasks = loader.load_moleculenet_dataset(
    dataset_name='BBBP',
    featurizer='ECFP',
    split='scaffold'
)

print(f"\næ•°æ®é›†å·²åŠ è½½:")
print(f"  è®­ç»ƒé›†: {len(train)} æ ·æœ¬")
print(f"  éªŒè¯é›†: {len(valid)} æ ·æœ¬")
print(f"  æµ‹è¯•é›†: {len(test)} æ ·æœ¬")
print(f"  ä»»åŠ¡: {tasks}")

# æŸ¥çœ‹ç¬¬ä¸€ä¸ªæ ·æœ¬
print(f"\nç¬¬ä¸€ä¸ªè®­ç»ƒæ ·æœ¬:")
print(f"  ç‰¹å¾å½¢çŠ¶: {train.X[0].shape}")
print(f"  æ ‡ç­¾: {train.y[0]}")
```

è¿è¡Œ:
```bash
python demo_01_data.py
```

### ç¤ºä¾‹2: æµ‹è¯•ç‰¹å¾æå–

åˆ›å»º `demo_02_features.py`:
```python
"""æ¼”ç¤ºç‰¹å¾æå–"""
from features.molecular_features import MolecularFeaturizer

# åˆ›å»ºç‰¹å¾æå–å™¨
featurizer = MolecularFeaturizer(fingerprint_size=2048)

# ç¤ºä¾‹åˆ†å­
smiles_list = [
    'CC(=O)OC1=CC=CC=C1C(=O)O',  # é˜¿å¸åŒ¹æ—
    'CN1C=NC2=C1C(=O)N(C(=O)N2C)C',  # å’–å•¡å› 
    'CC(C)CC1=CC=C(C=C1)C(C)C(=O)O'  # å¸ƒæ´›èŠ¬
]

print("æå–MorganæŒ‡çº¹...")
for i, smiles in enumerate(smiles_list):
    # MorganæŒ‡çº¹
    fp = featurizer.get_morgan_fingerprint(smiles)
    print(f"\nåˆ†å­ {i+1}: {smiles}")
    print(f"  æŒ‡çº¹ç»´åº¦: {fp.shape}")
    print(f"  éé›¶ä½æ•°: {fp.sum()}")
    
    # åˆ†å­æè¿°ç¬¦
    desc = featurizer.get_molecular_descriptors(smiles)
    print(f"  åˆ†å­é‡: {desc['MolecularWeight']:.2f} Da")
    print(f"  LogP: {desc['LogP']:.2f}")
    print(f"  TPSA: {desc['TPSA']:.2f}")

# æ‰¹é‡ç‰¹å¾åŒ–
print("\næ‰¹é‡ç‰¹å¾åŒ–...")
features = featurizer.batch_featurize(smiles_list, method='morgan')
print(f"ç‰¹å¾çŸ©é˜µå½¢çŠ¶: {features.shape}")
```

è¿è¡Œ:
```bash
python demo_02_features.py
```

---

## ğŸ‹ï¸ å®Œæ•´è®­ç»ƒæµç¨‹

### è®­ç»ƒè„šæœ¬: `train_model.py`

```python
"""
å®Œæ•´çš„æ¨¡å‹è®­ç»ƒè„šæœ¬
ç”¨äºBBBPæ•°æ®é›†ï¼ˆè¡€è„‘å±éšœç©¿é€æ€§é¢„æµ‹ï¼‰
"""
import torch
import numpy as np
from sklearn.model_selection import train_test_split
import sys
sys.path.append('.')

from data.data_loader import DrugDataLoader
from features.molecular_features import MolecularFeaturizer, FeatureScaler
from models.drug_models import DrugPredictorMLP
from training.trainer import DrugModelTrainer, create_data_loaders
from evaluation.metrics import ModelEvaluator, ResultVisualizer

def main():
    print("="*60)
    print("è¯ç‰©ç­›é€‰æ¨¡å‹è®­ç»ƒ - BBBPæ•°æ®é›†")
    print("="*60)
    
    # ==================== 1. æ•°æ®åŠ è½½ ====================
    print("\n[1/6] åŠ è½½æ•°æ®...")
    loader = DrugDataLoader(data_dir='./data/raw')
    
    train_data, valid_data, test_data, tasks = loader.load_moleculenet_dataset(
        dataset_name='BBBP',
        featurizer='ECFP',
        split='scaffold'
    )
    
    print(f"âœ“ æ•°æ®åŠ è½½å®Œæˆ")
    
    # ==================== 2. ç‰¹å¾æå– ====================
    print("\n[2/6] æå–åˆ†å­ç‰¹å¾...")
    featurizer = MolecularFeaturizer(fingerprint_size=2048)
    
    # ä»DeepChemæ•°æ®é›†ä¸­æå–SMILESå’Œæ ‡ç­¾
    # æ³¨æ„: DeepChemå·²ç»ç‰¹å¾åŒ–äº†ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°æå–SMILES
    # è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œç›´æ¥ä½¿ç”¨å·²æœ‰çš„ç‰¹å¾
    X_train = train_data.X
    y_train = train_data.y.flatten()
    
    X_valid = valid_data.X
    y_valid = valid_data.y.flatten()
    
    X_test = test_data.X
    y_test = test_data.y.flatten()
    
    print(f"âœ“ ç‰¹å¾æå–å®Œæˆ")
    print(f"  è®­ç»ƒé›†: {X_train.shape}")
    print(f"  éªŒè¯é›†: {X_valid.shape}")
    print(f"  æµ‹è¯•é›†: {X_test.shape}")
    
    # ==================== 3. åˆ›å»ºæ•°æ®åŠ è½½å™¨ ====================
    print("\n[3/6] åˆ›å»ºæ•°æ®åŠ è½½å™¨...")
    train_loader, val_loader = create_data_loaders(
        X_train, y_train,
        X_valid, y_valid,
        batch_size=64
    )
    print(f"âœ“ æ•°æ®åŠ è½½å™¨åˆ›å»ºå®Œæˆ (batch_size=64)")
    
    # ==================== 4. åˆ›å»ºæ¨¡å‹ ====================
    print("\n[4/6] åˆ›å»ºæ¨¡å‹...")
    model = DrugPredictorMLP(
        input_dim=2048,
        hidden_dims=[1024, 512, 256],
        output_dim=1,
        dropout=0.3,
        task_type='binary'
    )
    
    print(f"âœ“ æ¨¡å‹åˆ›å»ºå®Œæˆ")
    print(f"  å‚æ•°é‡: {sum(p.numel() for p in model.parameters()):,}")
    
    # ==================== 5. è®­ç»ƒæ¨¡å‹ ====================
    print("\n[5/6] å¼€å§‹è®­ç»ƒ...")
    device = 'cuda' if torch.cuda.is_available() else 'cpu'
    print(f"  ä½¿ç”¨è®¾å¤‡: {device}")
    
    trainer = DrugModelTrainer(
        model=model,
        device=device,
        learning_rate=0.0001,
        task_type='binary'
    )
    
    trainer.fit(
        train_loader=train_loader,
        val_loader=val_loader,
        epochs=100,
        early_stopping_patience=15,
        save_best_model=True,
        model_save_path='./saved_models/bbbp_model.pth'
    )
    
    print(f"\nâœ“ è®­ç»ƒå®Œæˆï¼")
    
    # ==================== 6. è¯„ä¼°æ¨¡å‹ ====================
    print("\n[6/6] è¯„ä¼°æ¨¡å‹...")
    
    # åŠ è½½æœ€ä½³æ¨¡å‹
    model.load_state_dict(torch.load('./saved_models/bbbp_model.pth', 
                                     map_location=device))
    
    # åœ¨æµ‹è¯•é›†ä¸Šé¢„æµ‹
    y_pred = trainer.predict(X_test)
    y_pred_labels = (y_pred > 0.5).astype(int).flatten()
    
    # è®¡ç®—æŒ‡æ ‡
    evaluator = ModelEvaluator()
    metrics = evaluator.evaluate_classification(
        y_test.astype(int),
        y_pred_labels,
        y_prob=y_pred.flatten()
    )
    
    evaluator.print_metrics(metrics, "BBBPæµ‹è¯•é›†è¯„ä¼°ç»“æœ")
    
    # å¯è§†åŒ–
    print("\nç”Ÿæˆå¯è§†åŒ–å›¾è¡¨...")
    visualizer = ResultVisualizer(save_dir='./evaluation/figures')
    
    # è®­ç»ƒå†å²
    visualizer.plot_training_history(
        trainer.history,
        save_name='bbbp_training_history.png'
    )
    
    # ROCæ›²çº¿
    visualizer.plot_roc_curve(
        y_test.astype(int),
        y_pred.flatten(),
        title='BBBPæ¨¡å‹ROCæ›²çº¿',
        save_name='bbbp_roc_curve.png'
    )
    
    # æ··æ·†çŸ©é˜µ
    visualizer.plot_confusion_matrix(
        y_test.astype(int),
        y_pred_labels,
        labels=['ä¸ç©¿é€', 'ç©¿é€'],
        title='BBBPé¢„æµ‹æ··æ·†çŸ©é˜µ',
        save_name='bbbp_confusion_matrix.png'
    )
    
    print("\n" + "="*60)
    print("è®­ç»ƒæµç¨‹å®Œæˆï¼")
    print("="*60)
    print(f"æ¨¡å‹ä¿å­˜ä½ç½®: ./saved_models/bbbp_model.pth")
    print(f"å›¾è¡¨ä¿å­˜ä½ç½®: ./evaluation/figures/")
    print("="*60)

if __name__ == "__main__":
    main()
```

### è¿è¡Œè®­ç»ƒ

```bash
# æ¿€æ´»ç¯å¢ƒ
conda activate drug_screen

# è¿è¡Œè®­ç»ƒè„šæœ¬
python train_model.py
```

### é¢„æœŸè¾“å‡º

```
============================================================
è¯ç‰©ç­›é€‰æ¨¡å‹è®­ç»ƒ - BBBPæ•°æ®é›†
============================================================

[1/6] åŠ è½½æ•°æ®...
Loading BBBP dataset from MoleculeNet...
âœ“ æ•°æ®åŠ è½½å®Œæˆ

[2/6] æå–åˆ†å­ç‰¹å¾...
âœ“ ç‰¹å¾æå–å®Œæˆ
  è®­ç»ƒé›†: (1631, 2048)
  éªŒè¯é›†: (204, 2048)
  æµ‹è¯•é›†: (204, 2048)

[3/6] åˆ›å»ºæ•°æ®åŠ è½½å™¨...
âœ“ æ•°æ®åŠ è½½å™¨åˆ›å»ºå®Œæˆ (batch_size=64)

[4/6] åˆ›å»ºæ¨¡å‹...
âœ“ æ¨¡å‹åˆ›å»ºå®Œæˆ
  å‚æ•°é‡: 2,099,457

[5/6] å¼€å§‹è®­ç»ƒ...
  ä½¿ç”¨è®¾å¤‡: cuda
å¼€å§‹è®­ç»ƒ... Device: cuda
Epoch 1/100 - Train Loss: 0.6234, Train Accuracy: 0.6543 - Val Loss: 0.5876, Val Accuracy: 0.7010
  âœ“ ä¿å­˜æœ€ä½³æ¨¡å‹åˆ° ./saved_models/bbbp_model.pth
Epoch 2/100 - Train Loss: 0.5123, Train Accuracy: 0.7234 - Val Loss: 0.4987, Val Accuracy: 0.7450
...
æ—©åœè§¦å‘ï¼åœ¨ç¬¬ 42 è½®åœæ­¢è®­ç»ƒ

âœ“ è®­ç»ƒå®Œæˆï¼

[6/6] è¯„ä¼°æ¨¡å‹...
==================================================
BBBPæµ‹è¯•é›†è¯„ä¼°ç»“æœ
==================================================
Accuracy       : 0.8578
Precision      : 0.8421
Recall         : 0.8750
F1             : 0.8582
AUC-ROC        : 0.9123
==================================================
```

---

## ğŸŒ Webç•Œé¢ä½¿ç”¨

### å¯åŠ¨Webåº”ç”¨

```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•
cd d:\OneDrive\æ¡Œé¢\cursor\drug

# å¯åŠ¨Streamlit
streamlit run web/app.py
```

### æµè§ˆå™¨è®¿é—®
è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:8501

### åŠŸèƒ½è¯´æ˜

#### 1. å•åˆ†å­é¢„æµ‹
- è¾“å…¥SMILESå­—ç¬¦ä¸²
- æŸ¥çœ‹åˆ†å­ç»“æ„
- è·å–é¢„æµ‹åˆ†æ•°
- æŸ¥çœ‹åˆ†å­æ€§è´¨
- Lipinskiè§„åˆ™æ£€æŸ¥

#### 2. æ‰¹é‡ç­›é€‰
- ä¸Šä¼ CSVæ–‡ä»¶ï¼ˆå¿…é¡»åŒ…å«SMILESåˆ—ï¼‰
- è®¾ç½®Top-Kå‚æ•°
- åº”ç”¨Lipinskiè¿‡æ»¤
- æŸ¥çœ‹ç­›é€‰ç»“æœ
- ä¸‹è½½ç»“æœCSV
- æŸ¥çœ‹Topåˆ†å­ç»“æ„

#### 3. æ•°æ®é›†æ¢ç´¢
- æµè§ˆMoleculeNetæ•°æ®é›†ä¿¡æ¯
- äº†è§£å„æ•°æ®é›†ç”¨é€”

#### 4. ç³»ç»Ÿè¯´æ˜
- æŸ¥çœ‹ä½¿ç”¨æŒ‡å—
- æŠ€æœ¯æ–‡æ¡£

---

## ğŸ” å®Œæ•´ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯1: é¢„æµ‹å•ä¸ªè¯ç‰©åˆ†å­

```python
"""é¢„æµ‹é˜¿å¸åŒ¹æ—çš„è¡€è„‘å±éšœç©¿é€æ€§"""
import torch
from features.molecular_features import MolecularFeaturizer
from models.drug_models import DrugPredictorMLP
from inference.predictor import DrugPredictor

# åŠ è½½æ¨¡å‹
model = DrugPredictorMLP(input_dim=2048, output_dim=1, task_type='binary')
model.load_state_dict(torch.load('./saved_models/bbbp_model.pth', map_location='cpu'))
model.eval()

# åˆ›å»ºé¢„æµ‹å™¨
featurizer = MolecularFeaturizer()
predictor = DrugPredictor(model, featurizer, device='cpu')

# é¢„æµ‹
aspirin = 'CC(=O)OC1=CC=CC=C1C(=O)O'
result = predictor.predict_with_properties(aspirin)

print(f"åˆ†å­: é˜¿å¸åŒ¹æ—")
print(f"SMILES: {aspirin}")
print(f"é¢„æµ‹åˆ†æ•°: {result['prediction']:.4f}")
print(f"è¡€è„‘å±éšœç©¿é€: {'æ˜¯' if result['prediction'] > 0.5 else 'å¦'}")
print(f"\nåˆ†å­æ€§è´¨:")
for key, value in result['properties'].items():
    print(f"  {key}: {value:.2f}")
```

### åœºæ™¯2: æ‰¹é‡ç­›é€‰åŒ–åˆç‰©åº“

```python
"""ä»1000ä¸ªåŒ–åˆç‰©ä¸­ç­›é€‰Top100å€™é€‰"""
import pandas as pd
from inference.predictor import DrugScreener

# å‡è®¾æœ‰CSVæ–‡ä»¶
df = pd.read_csv('compound_library.csv')
smiles_list = df['smiles'].tolist()

# åˆ›å»ºç­›é€‰å™¨
screener = DrugScreener(predictor)

# ç­›é€‰
results = screener.screen_library(
    smiles_list=smiles_list,
    top_k=100,
    ascending=False
)

# åº”ç”¨Lipinskiè¿‡æ»¤
filtered = screener.filter_by_lipinski(results)

# ä¿å­˜ç»“æœ
screener.generate_report(filtered, save_path='top_candidates.csv')

print(f"ç­›é€‰å®Œæˆï¼")
print(f"Topå€™é€‰æ•°: {len(filtered)}")
```

### åœºæ™¯3: è®­ç»ƒESOLæº¶è§£åº¦æ¨¡å‹

```python
"""è®­ç»ƒå›å½’æ¨¡å‹é¢„æµ‹æº¶è§£åº¦"""
# ä¿®æ”¹train_model.pyä¸­çš„å‚æ•°

# æ•°æ®åŠ è½½
train_data, valid_data, test_data, tasks = loader.load_moleculenet_dataset(
    dataset_name='ESOL',  # æ”¹ä¸ºESOL
    featurizer='ECFP',
    split='random'
)

# æ¨¡å‹é…ç½®
model = DrugPredictorMLP(
    input_dim=2048,
    hidden_dims=[512, 256, 128],
    output_dim=1,
    dropout=0.2,
    task_type='regression'  # å›å½’ä»»åŠ¡
)

# è®­ç»ƒå™¨
trainer = DrugModelTrainer(
    model=model,
    device=device,
    learning_rate=0.001,
    task_type='regression'  # å›å½’ä»»åŠ¡
)
```

---

## â“ å¸¸è§é—®é¢˜è§£å†³

### Q1: å¯¼å…¥æ¨¡å—é”™è¯¯
```
ModuleNotFoundError: No module named 'rdkit'
```
**è§£å†³**:
```bash
conda install -c conda-forge rdkit
```

### Q2: CUDA out of memory
```
RuntimeError: CUDA out of memory
```
**è§£å†³**:
```python
# æ–¹æ¡ˆ1: å‡å°batch_size
batch_size = 16  # ä»64æ”¹ä¸º16

# æ–¹æ¡ˆ2: ä½¿ç”¨CPU
device = 'cpu'

# æ–¹æ¡ˆ3: æ¸…ç©ºç¼“å­˜
torch.cuda.empty_cache()
```

### Q3: DeepChemä¸‹è½½æ•°æ®é›†å¤±è´¥
```
Error downloading dataset
```
**è§£å†³**:
```python
# æ–¹æ³•1: é‡è¯•å‡ æ¬¡ï¼ˆç½‘ç»œé—®é¢˜ï¼‰
# æ–¹æ³•2: æ‰‹åŠ¨ä¸‹è½½åæ”¾åˆ°æŒ‡å®šç›®å½•
# æ–¹æ³•3: ä½¿ç”¨è‡ªå®šä¹‰CSVæ•°æ®
loader.load_csv_dataset('my_data.csv')
```

### Q4: Streamlitå¯åŠ¨å¤±è´¥
```
streamlit: command not found
```
**è§£å†³**:
```bash
pip install streamlit
```

### Q5: æ¨¡å‹é¢„æµ‹ç»“æœå…¨æ˜¯0æˆ–1
**å¯èƒ½åŸå› **: æ¨¡å‹è¿‡æ‹Ÿåˆæˆ–æœªè®­ç»ƒå¥½  
**è§£å†³**:
- æ£€æŸ¥è®­ç»ƒlossæ˜¯å¦ä¸‹é™
- å¢åŠ è®­ç»ƒepochæ•°
- è°ƒæ•´å­¦ä¹ ç‡
- æ£€æŸ¥æ•°æ®æ˜¯å¦æœ‰é—®é¢˜

### Q6: SMILESè§£æå¤±è´¥
```
Invalid SMILES string
```
**è§£å†³**:
```python
from rdkit import Chem

# éªŒè¯SMILES
mol = Chem.MolFromSmiles(smiles)
if mol is None:
    print("æ— æ•ˆçš„SMILES")
else:
    # æ ‡å‡†åŒ–
    canonical_smiles = Chem.MolToSmiles(mol)
```

---

## ğŸ“¦ é¡¹ç›®æ‰“åŒ…å’Œåˆ†äº«

### å¯¼å‡ºç¯å¢ƒ

```bash
# å¯¼å‡ºcondaç¯å¢ƒ
conda env export > environment.yml

# æˆ–å¯¼å‡ºpipä¾èµ–
pip freeze > requirements.txt
```

### é‡å»ºç¯å¢ƒ

```bash
# ä»environment.yml
conda env create -f environment.yml

# ä»requirements.txt
pip install -r requirements.txt
```

### æ–‡ä»¶æ¸…å•

æäº¤é¡¹ç›®æ—¶åº”åŒ…å«:
```
drug_screening_system/
â”œâ”€â”€ data/
â”‚   â””â”€â”€ data_loader.py
â”œâ”€â”€ features/
â”‚   â””â”€â”€ molecular_features.py
â”œâ”€â”€ models/
â”‚   â””â”€â”€ drug_models.py
â”œâ”€â”€ training/
â”‚   â””â”€â”€ trainer.py
â”œâ”€â”€ evaluation/
â”‚   â”œâ”€â”€ metrics.py
â”‚   â””â”€â”€ figures/  # ç”Ÿæˆçš„å›¾è¡¨
â”œâ”€â”€ inference/
â”‚   â””â”€â”€ predictor.py
â”œâ”€â”€ web/
â”‚   â””â”€â”€ app.py
â”œâ”€â”€ saved_models/
â”‚   â””â”€â”€ bbbp_model.pth  # è®­ç»ƒå¥½çš„æ¨¡å‹
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ å¼€å‘è®¡åˆ’æ–‡æ¡£.md
â”œâ”€â”€ è¿è¡ŒæŒ‡å—.md
â”œâ”€â”€ train_model.py  # è®­ç»ƒè„šæœ¬
â””â”€â”€ README.md
```

---

## ğŸ“ å­¦ä¹ èµ„æº

### æ¨èæ•™ç¨‹
1. **RDKitå…¥é—¨**: https://www.rdkit.org/docs/GettingStartedInPython.html
2. **PyTorchåŸºç¡€**: https://pytorch.org/tutorials/beginner/basics/intro.html
3. **DeepChemæ•™ç¨‹**: https://deepchem.readthedocs.io/en/latest/get_started/tutorials.html

### ç›¸å…³è¯¾ç¨‹
- Coursera: AI for Medicine
- Fast.ai: Practical Deep Learning
- DataCamp: Machine Learning for Drug Discovery

### è®ºæ–‡é˜…è¯»
- MoleculeNet (2018)
- Molecular Graph Convolutions (2017)
- ADMET prediction with Deep Learning (2019)

---

## ğŸ’¬ æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ

1. **æŸ¥çœ‹æ—¥å¿—**: æ£€æŸ¥ç»ˆç«¯è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
2. **è°ƒè¯•æ¨¡å¼**: ä½¿ç”¨`print()`æ‰“å°ä¸­é—´ç»“æœ
3. **æµ‹è¯•æ¨¡å—**: å•ç‹¬æµ‹è¯•æ¯ä¸ªæ¨¡å—æ˜¯å¦æ­£å¸¸
4. **æ£€æŸ¥æ•°æ®**: ç¡®è®¤æ•°æ®æ ¼å¼æ­£ç¡®
5. **ç‰ˆæœ¬å…¼å®¹**: ç¡®è®¤ä¾èµ–ç‰ˆæœ¬åŒ¹é…

---

**ç¥ä½ è®­ç»ƒé¡ºåˆ©ï¼ğŸ‰**
